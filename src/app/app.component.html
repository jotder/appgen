<div class="app-container">
  @if (authService.isAuthenticated()) {
    <nav class="navigation-menu">
      <div class="menu-header">
        <h2>App Generator</h2>
      </div>
      <ul>
        @for (item of menuItems(); track item.id) {
          <li>
            <a [routerLink]="['/pages', item.page]" [fragment]="item.fragment">{{ item.title }}</a>
            @if (item.children && item.children.length > 0) {
              <ul class="submenu">
                @for (child of item.children; track child.id) {
                  <li>
                    <a [routerLink]="['/pages', child.page]" [fragment]="child.fragment">{{ child.title }}</a>
                  </li>
                }
              </ul>
            }
          </li>
        }
      </ul>
      <div class="user-info">
        <span>Role: {{ authService.userRole() }}</span>
        <button (click)="logout()">Logout</button>
      </div>
    </nav>
  }

  <main class="content-area">
    <router-outlet></router-outlet>
  </main>
</div>
